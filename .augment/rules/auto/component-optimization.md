---
type: "agent_requested"
description: "ç»„ä»¶å¼€å‘ä¸ä¼˜åŒ–è§„èŒƒ"
---

# Vue ç»„ä»¶å¼€å‘ä¸ä¼˜åŒ–è§„èŒƒ

> ç»Ÿä¸€çš„ç»„ä»¶å¼€å‘ã€æ‹†åˆ†ã€äº¤äº’é€»è¾‘å’Œä¼˜åŒ–è§„èŒƒ

## ç»„ä»¶å¤§å°é™åˆ¶

### åŸºæœ¬è§„åˆ™

- **æ¯ä¸ª Vue ç»„ä»¶ä¸è¶…è¿‡ 400 è¡Œä»£ç **
- **400 è¡Œä»¥å†…**: å¯ä»¥å†™åœ¨å½“å‰ .vue æ–‡ä»¶ä¸­ï¼Œæ— éœ€æ‹†åˆ†
- **è¶…è¿‡ 400 è¡Œ**: å¿…é¡»è¿›è¡Œæ‹†åˆ†å’Œé‡æ„(è¦ä¿è¯åŸæœ‰åŠŸèƒ½ä¸å˜çš„å‰æä¸‹)

### é‡è¦è¯´æ˜

- **ä¼˜å…ˆä¿æŒå•æ–‡ä»¶**: å¦‚æœç»„ä»¶ < 400 è¡Œï¼Œåº”è¯¥ä¿æŒåœ¨å•ä¸ª .vue æ–‡ä»¶ä¸­
- **é¿å…è¿‡åº¦æ‹†åˆ†**: ä¸è¦ä¸ºäº†æ‹†åˆ†è€Œæ‹†åˆ†ï¼Œç®€å•ç»„ä»¶ä¿æŒå•æ–‡ä»¶æ›´æ˜“ç»´æŠ¤
- **æ‹†åˆ†åæ¸…ç†**: å®Œæˆå¼€å‘åå¿…é¡»æ¸…ç†ä¸´æ—¶æ–‡ä»¶ï¼ˆæµ‹è¯•æ–‡ä»¶ã€æ–‡æ¡£ç­‰ï¼‰
- **è‡ªåŠ¨å¼•å…¥ä¼˜åŒ–**: Vueã€Element Plusã€å…¨å±€ç»„ä»¶ç­‰å·²è‡ªåŠ¨å¼•å…¥ï¼Œæ— éœ€æ‰‹åŠ¨å¼•å…¥

### æ‹†åˆ†ç­–ç•¥

#### 1. æŒ‰å†…å®¹æ‹†åˆ†ï¼ˆUI ç»„ä»¶æ‹†åˆ†ï¼‰

é€‚ç”¨äºå¤æ‚çš„ UI ç»“æ„ï¼Œå¦‚ Tab åˆ‡æ¢ã€å¤šæ­¥éª¤è¡¨å•ç­‰ï¼š

```text
components/
â”œâ”€â”€ ParentComponent.vue        # ä¸»ç»„ä»¶ (<400 è¡Œ)
â”œâ”€â”€ ParentComponent/
â”‚   â”œâ”€â”€ TabContent1.vue       # Tab1 å†…å®¹ç»„ä»¶
â”‚   â”œâ”€â”€ TabContent2.vue       # Tab2 å†…å®¹ç»„ä»¶
â”‚   â”œâ”€â”€ TabContent3.vue       # Tab3 å†…å®¹ç»„ä»¶
â”‚   â””â”€â”€ StepForm/             # æ­¥éª¤è¡¨å•å­ç»„ä»¶
â”‚       â”œâ”€â”€ Step1.vue
â”‚       â”œâ”€â”€ Step2.vue
â”‚       â””â”€â”€ Step3.vue
```

**ä½¿ç”¨åœºæ™¯**:

- Tab åˆ‡æ¢ä¸­çš„ content éƒ¨åˆ†
- å¤šæ­¥éª¤è¡¨å•çš„å„ä¸ªæ­¥éª¤
- å¤æ‚åˆ—è¡¨çš„ä¸åŒå±•ç¤ºæ¨¡å¼
- å¼¹çª—ä¸­çš„ä¸åŒå†…å®¹åŒºåŸŸ

#### 2. æŒ‰é¡µé¢é€»è¾‘æ‹†åˆ†ï¼ˆJS é€»è¾‘æ‹†åˆ†ï¼‰

é€‚ç”¨äºé€»è¾‘å¤æ‚çš„ç»„ä»¶ï¼Œå°† JS éƒ¨åˆ†æŒ‰èŒè´£æ‹†åˆ†ï¼š

```text
components/
â”œâ”€â”€ component-name.vue        # ä¸»ç»„ä»¶ (<400 è¡Œ,ä¸åŒ…å«æ ·å¼)
â”œâ”€â”€ component-name/ (ä¸»ç»„ä»¶ä¸åŒ…å«æ ·å¼>400 è¡Œè¿›è¡Œæ‹†åˆ†)
â”‚   â”œâ”€â”€ index.vue             # ä¸»ç»„ä»¶æ–‡ä»¶(å…¬å…±é€»è¾‘æ”¾å…¥è¿™é‡Œ)
â”‚   â”œâ”€â”€ interaction.ts     # å‰ç«¯äº¤äº’é€»è¾‘
â”‚   â”œâ”€â”€ dataProcess.ts     # åç«¯äº¤äº’é€»è¾‘
â”‚   â”œâ”€â”€ constants.ts          # å¸¸é‡å®šä¹‰
â”‚   â””â”€â”€ types.ts              # ç±»å‹å®šä¹‰
```

**é€»è¾‘æ‹†åˆ†åŸåˆ™**:

- **å‰ç«¯äº¤äº’é€»è¾‘** (`interaction.ts`): è¡¨å•éªŒè¯ã€UI çŠ¶æ€ç®¡ç†ã€ç”¨æˆ·äº¤äº’å¤„ç†
- **åç«¯äº¤äº’é€»è¾‘** (`dataProcess.ts`): API è°ƒç”¨ã€æ•°æ®è·å–ã€çŠ¶æ€åŒæ­¥
- **å…¬å…±é€»è¾‘** (`index.vue`): é€šç”¨ä¸šåŠ¡é€»è¾‘ã€æ•°æ®å¤„ç†ã€å·¥å…·æ–¹æ³•

#### 3. æ‹†åˆ†å†³ç­–æµç¨‹ï¼ˆé‡è¦ï¼šæŒ‰ä¼˜å…ˆçº§æ‰§è¡Œï¼‰

##### ç¬¬ä¸€æ­¥ï¼šä¼˜å…ˆä½¿ç”¨é€»è¾‘æ‹†åˆ†
**é»˜è®¤ç­–ç•¥**ï¼šè¶…è¿‡400è¡Œçš„ç»„ä»¶åº”è¯¥**ä¼˜å…ˆè€ƒè™‘é€»è¾‘æ‹†åˆ†**

- **é€»è¾‘æ‹†åˆ†é€‚ç”¨åœºæ™¯**ï¼š
  - ç»„ä»¶åŒ…å«å¤§é‡ä¸šåŠ¡é€»è¾‘ï¼ˆ>100è¡ŒJSé€»è¾‘ï¼‰
  - æœ‰å¤šä¸ªAPIè°ƒç”¨å’Œæ•°æ®å¤„ç†
  - è¡¨å•éªŒè¯ã€çŠ¶æ€ç®¡ç†å¤æ‚
  - äº‹ä»¶å¤„ç†å’Œäº¤äº’é€»è¾‘å¤æ‚

##### ç¬¬äºŒæ­¥ï¼šç‰¹æ®Šæƒ…å†µä½¿ç”¨å†…å®¹æ‹†åˆ†
**ä»…åœ¨ä»¥ä¸‹æƒ…å†µä½¿ç”¨å†…å®¹æ‹†åˆ†**ï¼š

- **é¡µé¢å†…å®¹æå…¶åºå¤§**ï¼ˆ>800è¡Œï¼Œä¸”UIç»“æ„å ä¸»è¦éƒ¨åˆ†ï¼‰
- **æ˜ç¡®çš„ç‹¬ç«‹åŠŸèƒ½æ¨¡å—**ï¼ˆå¦‚Tabé¡µé¢ã€å¤šæ­¥éª¤å‘å¯¼ï¼‰
- **å¯å¤ç”¨çš„ç‹¬ç«‹UIç»„ä»¶**ï¼ˆå¦‚å¡ç‰‡ã€åˆ—è¡¨é¡¹ï¼‰
- **é€»è¾‘æ‹†åˆ†åä»ç„¶è¶…è¿‡400è¡Œ**

##### ç¬¬ä¸‰æ­¥ï¼šæ‹†åˆ†æ‰§è¡ŒåŸåˆ™

**é€»è¾‘æ‹†åˆ†æ‰§è¡Œæ­¥éª¤**ï¼š

1. åˆ›å»º `component-name/` ç›®å½•ï¼ˆä½¿ç”¨ä¸­åˆ’çº¿å‘½åï¼‰
2. å°†ä¸»ç»„ä»¶é‡å‘½åä¸º `component-name/index.vue`
3. æŒ‰èŒè´£åˆ›å»ºç»„åˆå‡½æ•°ï¼š
   - `interaction.ts` - å‰ç«¯äº¤äº’é€»è¾‘
   - `dataProcess.ts` - åç«¯æ•°æ®å¤„ç†
   - `constants.ts` - å¸¸é‡å®šä¹‰
   - `types.ts` - ç±»å‹å®šä¹‰
4. ä¸»ç»„ä»¶åªä¿ç•™æ¨¡æ¿å’Œç»„åˆå‡½æ•°è°ƒç”¨

**å†…å®¹æ‹†åˆ†æ‰§è¡Œæ­¥éª¤**ï¼š

1. åˆ›å»º `component-name/` ç›®å½•ï¼ˆä½¿ç”¨ä¸­åˆ’çº¿å‘½åï¼‰
2. æŒ‰åŠŸèƒ½æ¨¡å—æ‹†åˆ†å­ç»„ä»¶
3. ä¸»ç»„ä»¶ä¿æŒæ•°æ®æµå’Œäº‹ä»¶å¤„ç†
4. å­ç»„ä»¶ä¸“æ³¨äºUIå±•ç¤ºå’Œå±€éƒ¨äº¤äº’

##### ç¬¬å››æ­¥ï¼šæ‹†åˆ†è´¨é‡æ£€æŸ¥
- ä¸»ç»„ä»¶ä»£ç  < 400è¡Œ
- é€»è¾‘æ¸…æ™°ï¼ŒèŒè´£åˆ†ç¦»
- **ä¸¥æ ¼ä¿æŒåŸæœ‰åŠŸèƒ½å®Œæ•´æ€§**
- **ä¸¥æ ¼ä¿æŒåŸæœ‰æ ·å¼ä¸å˜**
- **ä¸¥æ ¼ä¿æŒåŸæœ‰é€»è¾‘ä¸å˜**
- ç»„ä»¶é—´é€šä¿¡ç®€æ´æ˜äº†

#### 4. æ‹†åˆ†æ ¸å¿ƒåŸåˆ™ï¼ˆğŸš¨ æå…¶é‡è¦ï¼‰

##### ä¿æŒåŸæœ‰ä»£ç ä¸å˜åŸåˆ™
- **æ ·å¼å®Œå…¨ä¿æŒ**ï¼šæ‰€æœ‰CSSæ ·å¼å¿…é¡»å®Œå…¨ä¿æŒä¸å˜
- **é€»è¾‘å®Œå…¨ä¿æŒ**ï¼šæ‰€æœ‰ä¸šåŠ¡é€»è¾‘å¿…é¡»å®Œå…¨ä¿æŒä¸å˜
- **åŠŸèƒ½å®Œå…¨ä¿æŒ**ï¼šæ‰€æœ‰åŠŸèƒ½è¡Œä¸ºå¿…é¡»å®Œå…¨ä¿æŒä¸å˜
- **æ•°æ®æµä¿æŒ**ï¼šæ‰€æœ‰æ•°æ®æµå‘å¿…é¡»å®Œå…¨ä¿æŒä¸å˜
- **äº‹ä»¶å¤„ç†ä¿æŒ**ï¼šæ‰€æœ‰äº‹ä»¶å¤„ç†å¿…é¡»å®Œå…¨ä¿æŒä¸å˜

##### æ‹†åˆ†æ–¹å¼é™åˆ¶
- **ä»…ç§»åŠ¨ä»£ç **ï¼šåªèƒ½ç§»åŠ¨ä»£ç åˆ°æ–°æ–‡ä»¶ï¼Œä¸èƒ½ä¿®æ”¹ä»£ç é€»è¾‘
- **ä»…æå–å‡½æ•°**ï¼šåªèƒ½å°†ä»£ç å—æå–ä¸ºå‡½æ•°ï¼Œä¸èƒ½æ”¹å˜æ‰§è¡Œé€»è¾‘
- **ä¿æŒå¯¼å…¥å¯¼å‡º**ï¼šä¿æŒæ‰€æœ‰åŸæœ‰çš„å¯¼å…¥å¯¼å‡ºå…³ç³»
- **ä¿æŒå˜é‡å**ï¼šä¿æŒæ‰€æœ‰åŸæœ‰çš„å˜é‡åå’Œæ–¹æ³•å
- **ä¿æŒè®¡ç®—å±æ€§**ï¼šä¿æŒæ‰€æœ‰åŸæœ‰çš„è®¡ç®—å±æ€§é€»è¾‘

##### æ‹†åˆ†éªŒè¯æ ‡å‡†
- **åŠŸèƒ½æµ‹è¯•**ï¼šæ‹†åˆ†åæ‰€æœ‰åŠŸèƒ½å¿…é¡»ä¸æ‹†åˆ†å‰å®Œå…¨ä¸€è‡´
- **æ ·å¼æµ‹è¯•**ï¼šæ‹†åˆ†åæ‰€æœ‰æ ·å¼å¿…é¡»ä¸æ‹†åˆ†å‰å®Œå…¨ä¸€è‡´
- **äº¤äº’æµ‹è¯•**ï¼šæ‹†åˆ†åæ‰€æœ‰äº¤äº’å¿…é¡»ä¸æ‹†åˆ†å‰å®Œå…¨ä¸€è‡´
- **æ•°æ®æµ‹è¯•**ï¼šæ‹†åˆ†åæ‰€æœ‰æ•°æ®å¤„ç†å¿…é¡»ä¸æ‹†åˆ†å‰å®Œå…¨ä¸€è‡´

---

## ğŸ¯ ç»„ä»¶äº¤äº’é€»è¾‘è§„èŒƒ

### é€‚ç”¨åœºæ™¯

å½“éœ€è¦å¼€å‘ä»¥ä¸‹åŠŸèƒ½æ—¶ï¼Œå¿…é¡»ä¸¥æ ¼æŒ‰ç…§æ­¤è§„èŒƒæ‰§è¡Œï¼š

- åŠ¨æ€æ·»åŠ /åˆ é™¤ç»„ä»¶æˆ–æ•°æ®é¡¹
- è¡¨å•äº¤äº’å’Œæ•°æ®ç»‘å®š
- åˆ—è¡¨æ“ä½œï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰
- å¼¹çª—å’Œå¯¹è¯æ¡†äº¤äº’
- çŠ¶æ€ç®¡ç†å’Œæ•°æ®æµæ§åˆ¶

### ğŸš¨ æ ¸å¿ƒåŸåˆ™

#### 1. æ•°æ®é©±åŠ¨è§†å›¾
- æ‰€æœ‰ UI çŠ¶æ€éƒ½ç”±å“åº”å¼æ•°æ®æ§åˆ¶
- ä¸ç›´æ¥æ“ä½œ DOMï¼Œé€šè¿‡æ•°æ®å˜åŒ–é©±åŠ¨è§†å›¾æ›´æ–°
- ä½¿ç”¨è®¡ç®—å±æ€§å¤„ç†æ´¾ç”ŸçŠ¶æ€

#### 2. å•å‘æ•°æ®æµ
- çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®é€šè¿‡ props
- å­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®é€šè¿‡ emit äº‹ä»¶
- å…„å¼Ÿç»„ä»¶é€šä¿¡é€šè¿‡å…±åŒçš„çˆ¶ç»„ä»¶æˆ–çŠ¶æ€ç®¡ç†

#### 3. èŒè´£åˆ†ç¦»
- æ•°æ®ç®¡ç†é€»è¾‘ä¸è§†å›¾æ¸²æŸ“é€»è¾‘åˆ†ç¦»
- ä¸šåŠ¡é€»è¾‘ä¸ UI äº¤äº’é€»è¾‘åˆ†ç¦»
- æ¯ä¸ªæ–¹æ³•åªè´Ÿè´£ä¸€ä¸ªå…·ä½“åŠŸèƒ½

### ğŸ“‹ äº¤äº’é€»è¾‘å¼€å‘æ¨¡æ¿

#### åŠ¨æ€åˆ—è¡¨ç®¡ç†æ¨¡æ¿

```vue
<script setup lang="ts">
// 1. ç±»å‹å®šä¹‰
interface ListItem {
  id: string
  data: any | null
  status?: 'active' | 'inactive'
}

// 2. ç»„ä»¶é…ç½®
defineOptions({
  name: 'DynamicList'
})

const {
  maxItems = 10,
  allowEmpty = true
} = defineProps<{
  maxItems?: number
  allowEmpty?: boolean
}>()

// 3. Emits å’Œ Props
const emit = defineEmits<{
  change: [items: ListItem[]]
  add: [item: ListItem]
  remove: [id: string, index: number]
}>()

// 4. å¸¸é‡é…ç½®
const DEFAULT_ITEM: Partial<ListItem> = {
  data: null,
  status: 'active'
}

// 5. å“åº”å¼æ•°æ®
const items = ref<ListItem[]>([])
const loading = ref(false)

// 6. è®¡ç®—å±æ€§
const canAddMore = computed(() => items.value.length < maxItems)
const hasItems = computed(() => items.value.length > 0)
const activeItems = computed(() => items.value.filter(item => item.status === 'active'))

// 7. æ ¸å¿ƒæ–¹æ³•
function generateId(): string {
  return `item-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`
}

function addItem(data: any = null): void {
  if (!canAddMore.value) {
    ElMessage.warning(`æœ€å¤šåªèƒ½æ·»åŠ  ${maxItems} ä¸ªé¡¹ç›®`)
    return
  }

  const newItem: ListItem = {
    id: generateId(),
    data,
    status: 'active'
  }

  items.value.push(newItem)
  emit('add', newItem)
}

function removeItem(index: number): void {
  if (index < 0 || index >= items.value.length) {
    console.warn('Invalid index for removeItem:', index)
    return
  }

  const item = items.value[index]
  items.value.splice(index, 1)
  emit('remove', item.id, index)
}

function updateItem(index: number, data: any): void {
  if (index < 0 || index >= items.value.length) {
    console.warn('Invalid index for updateItem:', index)
    return
  }

  items.value[index].data = data
}

// 8. ç›‘å¬å™¨
watch(items, (newItems) => {
  emit('change', newItems)
}, { deep: true })

// 9. ç”Ÿå‘½å‘¨æœŸ
onMounted(() => {
  // åˆå§‹åŒ–é€»è¾‘
})
</script>
```

### ğŸš¨ å¿…é¡»éµå¾ªçš„äº¤äº’è§„åˆ™

1. **æ•°æ®åˆå§‹åŒ–**ï¼šæ‰€æœ‰å“åº”å¼æ•°æ®å¿…é¡»æœ‰æ˜ç¡®çš„åˆå§‹å€¼
2. **ç±»å‹å®‰å…¨**ï¼šæ‰€æœ‰æ–¹æ³•å‚æ•°å’Œè¿”å›å€¼å¿…é¡»æœ‰ç±»å‹å®šä¹‰
3. **é”™è¯¯å¤„ç†**ï¼šæ‰€æœ‰å¼‚æ­¥æ“ä½œå¿…é¡»æœ‰é”™è¯¯å¤„ç†
4. **è¾¹ç•Œæ£€æŸ¥**ï¼šæ•°ç»„æ“ä½œå¿…é¡»æ£€æŸ¥ç´¢å¼•è¾¹ç•Œ
5. **ç”¨æˆ·åé¦ˆ**ï¼šé‡è¦æ“ä½œå¿…é¡»æœ‰ç”¨æˆ·åé¦ˆï¼ˆæˆåŠŸ/å¤±è´¥æç¤ºï¼‰
6. **åŠ è½½çŠ¶æ€**ï¼šå¼‚æ­¥æ“ä½œå¿…é¡»æœ‰åŠ è½½çŠ¶æ€ç®¡ç†
7. **æ•°æ®éªŒè¯**ï¼šè¡¨å•æ•°æ®å¿…é¡»æœ‰éªŒè¯é€»è¾‘
8. **äº‹ä»¶é€šä¿¡**ï¼šç»„ä»¶é—´é€šä¿¡å¿…é¡»é€šè¿‡è§„èŒƒçš„ emit äº‹ä»¶

---

## ä»£ç ä¹¦å†™é¡ºåºè§„èŒƒ

è¯¦ç»†çš„ä»£ç ä¹¦å†™é¡ºåºè§„èŒƒè¯·å‚è€ƒï¼š[ä»£ç ä¹¦å†™é¡ºåºè§„èŒƒ](./code-writing-order.md)

### æ ¸å¿ƒåŸåˆ™

1. **å¼•å…¥æŒ‰ä¾èµ–å¼ºåº¦æ’åº**: Vue æ ¸å¿ƒ â†’ UI æ¡†æ¶ â†’ é¡¹ç›®ç»„åˆå‡½æ•° â†’ API â†’ ç»„ä»¶
2. **ä»£ç å—æŒ‰é€»è¾‘é¡ºåº**: ç±»å‹å®šä¹‰ â†’ é…ç½® â†’ Props/Emits â†’ Hooks â†’ å˜é‡ â†’ è®¡ç®—å±æ€§ â†’ ç›‘å¬å™¨ â†’ æ–¹æ³• â†’ ç”Ÿå‘½å‘¨æœŸ
3. **ç”Ÿå‘½å‘¨æœŸæŒ‰æ‰§è¡Œé¡ºåº**: onBeforeMount â†’ onMounted â†’ onBeforeUpdate â†’ onUpdated â†’ onBeforeUnmount â†’ onUnmounted

### æ‹†åˆ†æ—¶æœºåˆ¤æ–­

#### ä½•æ—¶ä½¿ç”¨å†…å®¹æ‹†åˆ†

- Tab åˆ‡æ¢å†…å®¹å¤æ‚ï¼ˆæ¯ä¸ª Tab > 100 è¡Œï¼‰
- å¤šæ­¥éª¤è¡¨å•ï¼ˆæ¯ä¸ªæ­¥éª¤ > 80 è¡Œï¼‰
- åˆ—è¡¨æœ‰å¤šç§å±•ç¤ºæ¨¡å¼ï¼ˆå¡ç‰‡ã€è¡¨æ ¼ã€è¯¦æƒ…ç­‰ï¼‰
- å¼¹çª—å†…å®¹å¤æ‚ä¸”å¯å¤ç”¨

#### ä½•æ—¶ä½¿ç”¨é€»è¾‘æ‹†åˆ†

- API è°ƒç”¨é€»è¾‘å¤æ‚ï¼ˆ> 100 è¡Œï¼‰
- è¡¨å•éªŒè¯é€»è¾‘å¤æ‚ï¼ˆ> 80 è¡Œï¼‰
- ä¸šåŠ¡é€»è¾‘å¤æ‚ä¸”å¯å¤ç”¨
- äº¤äº’çŠ¶æ€ç®¡ç†å¤æ‚

## ç»„åˆå‡½æ•°è§„èŒƒ

### ç»„åˆå‡½æ•°æ‹†åˆ†åŸåˆ™

- **å‰ç«¯äº¤äº’é€»è¾‘** (`interaction.ts`): è¡¨å•éªŒè¯ã€UI çŠ¶æ€ç®¡ç†ã€ç”¨æˆ·äº¤äº’å¤„ç†
- **åç«¯äº¤äº’é€»è¾‘** (`useDataProces.ts`): API è°ƒç”¨ã€æ•°æ®è·å–ã€çŠ¶æ€åŒæ­¥
- **å…¬å…±é€»è¾‘** (`useCommon.ts`): é€šç”¨ä¸šåŠ¡é€»è¾‘ã€æ•°æ®å¤„ç†ã€å·¥å…·æ–¹æ³•

### æ–‡ä»¶èŒè´£åˆ†ç¦»

- **utils.ts**: çº¯å‡½æ•°å·¥å…·ï¼Œæ— å‰¯ä½œç”¨
- **constants.ts**: é™æ€é…ç½®æ•°æ®
- **types.ts**: TypeScript ç±»å‹å®šä¹‰
- **styles.scss**: ç»„ä»¶ä¸“ç”¨æ ·å¼

## ä»£ç ç»„ç»‡è§„èŒƒ

### ä¸»ç»„ä»¶ç»“æ„

```vue
<script setup lang="ts">
import { CONSTANTS } from './component-name/constants'
import { useDataProcess } from './component-name/dataProcess'
// 1. å¯¼å…¥ç»„åˆå‡½æ•°å’Œå·¥å…·
import { useInteraction } from './component-name/interaction'

// 2. ç»„ä»¶é…ç½®
defineOptions({ name: 'ComponentName' })

// 3. Props å’Œ Emits
const props = defineProps<PropsType>()
const emit = defineEmits<EmitsType>()

// 4. å“åº”å¼æ•°æ®
const localState = ref()

// 5. ä½¿ç”¨ç»„åˆå‡½æ•°
const { formData, loading, handleSubmit } = useInteraction()
const { apiData, loadData } = useDataProcess()

// 6. ç”Ÿå‘½å‘¨æœŸ
onMounted(() => {
  loadData()
})
</script>

<template>
  <!-- æ¨¡æ¿å†…å®¹ -->
</template>

<style lang="scss" scoped>
// æ ·å¼å†…å®¹
</style>
```

### ç»„åˆå‡½æ•°è§„èŒƒ

```typescript
// useFeatureName.ts
export function useFeatureName(params: ParamsType) {
  // 1. å“åº”å¼çŠ¶æ€
  const state = ref()

  // 2. è®¡ç®—å±æ€§
  const computed = computed(() => {})

  // 3. æ–¹æ³•å®šä¹‰
  function method() {}

  // 4. å‰¯ä½œç”¨å¤„ç†
  watch(state, () => {})

  // 5. è¿”å›å…¬å…±æ¥å£
  return {
    state,
    computed,
    method,
  }
}
```

## æ€§èƒ½ä¼˜åŒ–è§„èŒƒ

### 1. è®¡ç®—å±æ€§ä¼˜åŒ–

- å¤æ‚è®¡ç®—é€»è¾‘æå–åˆ°ç»„åˆå‡½æ•°
- é¿å…åœ¨æ¨¡æ¿ä¸­è¿›è¡Œå¤æ‚è®¡ç®—
- ä½¿ç”¨ `shallowRef` å’Œ `shallowReactive` ä¼˜åŒ–å¤§å¯¹è±¡

### 2. äº‹ä»¶å¤„ç†ä¼˜åŒ–

- ç»Ÿä¸€çš„äº‹ä»¶å¤„ç†å‡½æ•°
- é¿å…åœ¨æ¨¡æ¿ä¸­å®šä¹‰å†…è”å‡½æ•°
- ä½¿ç”¨é˜²æŠ–å’ŒèŠ‚æµä¼˜åŒ–é¢‘ç¹æ“ä½œ

### 3. ç»„ä»¶æ‡’åŠ è½½

- å¤§å‹ç»„ä»¶ä½¿ç”¨ `defineAsyncComponent`
- è·¯ç”±çº§åˆ«çš„ä»£ç åˆ†å‰²
- æ¡ä»¶æ¸²æŸ“çš„ç»„ä»¶æ‡’åŠ è½½

## ä»£ç è´¨é‡è¦æ±‚

### 1. TypeScript ç±»å‹å®‰å…¨

- æ‰€æœ‰ propsã€emitsã€è¿”å›å€¼å¿…é¡»æœ‰ç±»å‹å®šä¹‰
- ä½¿ç”¨ API ç±»å‹å®šä¹‰ï¼Œé¿å…é‡å¤å®šä¹‰
- ç»„åˆå‡½æ•°å¿…é¡»æœ‰å®Œæ•´çš„ç±»å‹æ³¨è§£

### 2. é”™è¯¯å¤„ç†

- API è°ƒç”¨å¿…é¡»æœ‰é”™è¯¯å¤„ç†
- ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º
- è¾¹ç•Œæƒ…å†µçš„å®¹é”™å¤„ç†

### 3. å¯ç»´æŠ¤æ€§

- æ¸…æ™°çš„å‡½æ•°å‘½åå’Œæ³¨é‡Š
- å•ä¸€èŒè´£åŸåˆ™
- æ˜“äºæµ‹è¯•çš„ä»£ç ç»“æ„

## å¼€å‘å®Œæˆåæ¸…ç†è§„åˆ™

### å¿…é¡»æ¸…ç†çš„ä¸´æ—¶æ–‡ä»¶

- **æµ‹è¯•ç»„ä»¶**: `*-test.vue`ã€`*-demo.vue` ç­‰æµ‹è¯•æ–‡ä»¶
- **ä¸´æ—¶æ–‡æ¡£**: `*-summary.md`ã€`*-notes.md` ç­‰å¼€å‘è¿‡ç¨‹æ–‡æ¡£
- **è°ƒè¯•æ–‡ä»¶**: `*-debug.vue`ã€`*-temp.vue` ç­‰è°ƒè¯•æ–‡ä»¶
- **ç¤ºä¾‹æ–‡ä»¶**: `*-example.vue`ã€`*-sample.vue` ç­‰ç¤ºä¾‹æ–‡ä»¶

### ä¿ç•™çš„æ–‡ä»¶

- **ä¸»ç»„ä»¶**: å®é™…ä½¿ç”¨çš„ .vue ç»„ä»¶æ–‡ä»¶
- **æ­£å¼æ–‡æ¡£**: README.mdã€API.md ç­‰æ­£å¼æ–‡æ¡£
- **é…ç½®æ–‡ä»¶**: å¿…è¦çš„é…ç½®å’Œå¸¸é‡æ–‡ä»¶

### æ¸…ç†æ£€æŸ¥æ¸…å•

- [ ] åˆ é™¤æ‰€æœ‰æµ‹è¯•ç»„ä»¶æ–‡ä»¶
- [ ] åˆ é™¤æ‰€æœ‰ä¸´æ—¶æ–‡æ¡£æ–‡ä»¶
- [ ] åˆ é™¤æ‰€æœ‰è°ƒè¯•å’Œç¤ºä¾‹æ–‡ä»¶
- [ ] ä¿ç•™å¿…è¦çš„æ­£å¼æ–‡ä»¶
- [ ] ç¡®è®¤ç»„ä»¶åŠŸèƒ½æ­£å¸¸

## é‡æ„æ£€æŸ¥æ¸…å•

### ç»„ä»¶æ‹†åˆ†æ£€æŸ¥

- [ ] ç»„ä»¶ä»£ç è¡Œæ•° < 400 è¡Œ
- [ ] é€»è¾‘æŒ‰åŠŸèƒ½æ¨¡å—åˆ†ç¦»ï¼ˆä»…å½“ > 400 è¡Œæ—¶ï¼‰
- [ ] é¿å…è¿‡åº¦æ‹†åˆ†
- [ ] ç±»å‹å®šä¹‰å®Œæ•´

### æ€§èƒ½æ£€æŸ¥

- [ ] æ— ä¸å¿…è¦çš„é‡å¤æ¸²æŸ“
- [ ] è®¡ç®—å±æ€§ä½¿ç”¨åˆç†
- [ ] äº‹ä»¶å¤„ç†ä¼˜åŒ–
- [ ] å†…å­˜æ³„æ¼æ£€æŸ¥

### ä»£ç è´¨é‡æ£€æŸ¥

- [ ] TypeScript ç±»å‹å®‰å…¨
- [ ] é”™è¯¯å¤„ç†å®Œå–„
- [ ] ä»£ç å¯è¯»æ€§è‰¯å¥½
- [ ] ç¬¦åˆé¡¹ç›®è§„èŒƒ

### å®Œæˆåæ¸…ç†æ£€æŸ¥

- [ ] å·²åˆ é™¤æ‰€æœ‰ä¸´æ—¶æµ‹è¯•æ–‡ä»¶
- [ ] å·²åˆ é™¤æ‰€æœ‰å¼€å‘è¿‡ç¨‹æ–‡æ¡£
- [ ] åªä¿ç•™å¿…è¦çš„æ­£å¼æ–‡ä»¶
- [ ] ç»„ä»¶åŠŸèƒ½éªŒè¯é€šè¿‡

## å®é™…åº”ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: Tab åˆ‡æ¢ç»„ä»¶ï¼ˆå†…å®¹æ‹†åˆ†ï¼‰

```vue
<!-- user-management.vue (ä¸»ç»„ä»¶) -->
<script setup lang="ts">
import UserList from './user-management/UserList.vue'
import UserLog from './user-management/UserLog.vue'
import UserPermission from './user-management/UserPermission.vue'

const activeTab = ref('list')
const selectedUserId = ref('')

function handleEdit(userId: string) {
  selectedUserId.value = userId
  activeTab.value = 'permission'
}
</script>

<template>
  <div class="user-management">
    <el-tabs v-model="activeTab">
      <el-tab-pane label="ç”¨æˆ·åˆ—è¡¨" name="list">
        <UserList @edit="handleEdit" />
      </el-tab-pane>
      <el-tab-pane label="æƒé™ç®¡ç†" name="permission">
        <UserPermission :user-id="selectedUserId" />
      </el-tab-pane>
      <el-tab-pane label="æ“ä½œæ—¥å¿—" name="log">
        <UserLog :user-id="selectedUserId" />
      </el-tab-pane>
    </el-tabs>
  </div>
</template>
```

### ç¤ºä¾‹ 2: å¤æ‚è¡¨å•ç»„ä»¶ï¼ˆé€»è¾‘æ‹†åˆ†ï¼‰

```vue
<!-- product-form/index.vue (ä¸»ç»„ä»¶) -->
<script setup lang="ts">
import { useDataProcess } from './dataProcess'
import { useInteraction } from './interaction'
import { useCommon } from './useCommon'

// å‰ç«¯äº¤äº’é€»è¾‘
const {
  formRef,
  formData,
  rules,
  validateForm,
  resetForm
} = useInteraction()

// åç«¯äº¤äº’é€»è¾‘
const {
  loading,
  submitForm,
  loadProductData
} = useDataProcess(formData)

async function handleSubmit() {
  const isValid = await validateForm()
  if (isValid) {
    await submitForm()
  }
}

onMounted(() => {
  loadProductData()
})
</script>
```
