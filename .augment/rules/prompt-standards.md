---
type: "agent_requested"
description: "编写高性能规范"
---

# Augment Rules 编写高性能规范

> 基于 Augment 限制的 AI 规则标准，确保 **高质量 / 高一致性 / 高执行性能**

---

## 🚨 Augment 核心限制

### 字符数限制

- **User Guidelines**: 最大 24,576 字符
- **Workspace Guidelines + Rules**: 最大 49,512 字符
- **超出限制**: 系统会通知并按优先级应用

### 应用优先级

1. **Manual Rules** (手动附加的规则)
2. **Always + Auto Rules** (自动应用的规则)
3. **.augment-guidelines** (传统工作区指南)

### 版本要求

- **VSCode**: Guidelines 需要 0.492.0+ 版本
- **JetBrains**: Guidelines 需要 0.197.0+ 版本，Rules 暂不支持

---

## 📌 规则类型与使用策略

### Always Rules (总是应用)

- **用途**: 核心开发规范、代码标准
- **特点**: 每次对话都会加载
- **限制**: 占用字符配额，需精简

### Auto Rules (自动检测)

- **用途**: 特定场景规则，如组件开发、API 调用
- **特点**: 基于 description 字段自动匹配
- **优势**: 按需加载，节省配额

### Manual Rules (手动附加)

- **用途**: 临时性、特殊场景规则
- **特点**: 通过 @ 手动选择
- **优势**: 最高优先级，灵活控制

---

## 📌 高效规则编写规范

### 1. 文件头部标准

```markdown
---
type: "always" | "auto" | "manual"
description: "简短描述，用于 auto 类型匹配"
---

# [规则名称]

> [一句话说明规则用途和适用场景]
```

### 2. 内容结构优化

```markdown
## 🚨 核心约束 (必须遵循)
[最重要的限制和要求，使用列表]

## 📋 标准模式 (推荐使用)
[常用模式和模板，附简短示例]

## ❌ 禁止事项 (严格避免)
[明确的禁止行为和反模式]
```

---

## 📌 字符配额优化策略

### 精简原则

- **去除冗余**：删除重复说明和示例
- **核心优先**：保留最重要的约束和模式
- **分层设计**：Always 规则最精简，Auto 规则可详细

### 内容压缩技巧

- **使用列表**：比段落更节省字符
- **简化示例**：只保留关键代码片段
- **合并相似**：将相似规则合并表达

### 配额分配建议

- **Always Rules**: 占用 30% 配额（核心规范）
- **Auto Rules**: 占用 60% 配额（场景规则）
- **预留空间**: 10% 配额（临时调整）

---

## 📌 规则编写最佳实践

### 核心约束编写

```markdown
## 🚨 核心约束
- 严格使用 TypeScript 类型定义
- 所有 API 调用必须使用 useApi 模式
- 禁止直接操作 DOM，使用 Vue 响应式
```

### 标准模式编写

```markdown
## 📋 API 调用模式
```typescript
const { res, error } = await useApi(api.getData, params)
if (res) { /* 处理成功 */ }
if (error) { /* 处理错误 */ }
```

### 禁止事项编写

```markdown
## ❌ 禁止事项
- 不使用 try-catch 包装 useApi
- 不在组件中直接写 CSS 样式
- 不使用 any 类型，必须明确类型定义
```

---

## 📌 规则文件组织策略

### 目录结构优化

```txt
.augment/rules/
├── always/                 # 总是应用的核心规则
│   ├── code-standards.md   # 代码规范（精简版）
│   └── main-assistant.md   # 主助手配置
├── auto/                   # 自动检测规则
│   ├── vue-components.md   # Vue 组件开发
│   ├── api-patterns.md     # API 调用模式
│   └── typescript-standards.md # TS 开发标准
└── manual/                 # 手动附加规则
    ├── performance-optimization.md
    └── debugging-guide.md
```

### 文件大小控制

- **Always 规则**: 每个文件 < 2KB
- **Auto 规则**: 每个文件 < 5KB
- **Manual 规则**: 每个文件 < 10KB

---

## 📌 质量检查清单

### Augment 兼容性

- [ ] 字符数在限制范围内
- [ ] 规则类型标记正确
- [ ] description 字段准确（Auto 类型）
- [ ] 版本要求满足

### 内容质量

- [ ] 核心约束明确具体
- [ ] 示例代码简洁有效
- [ ] 禁止事项清晰明确
- [ ] 无冗余重复内容

### 执行效果

- [ ] 规则易于理解执行
- [ ] 示例贴近实际场景
- [ ] 约束具有可操作性
- [ ] 优先级排序合理

---

## 📌 配额监控与优化

### 监控方法

1. **定期检查**: 每月检查总字符数
2. **工具辅助**: 使用字符计数工具
3. **分类统计**: 按规则类型统计使用量

### 优化策略

1. **精简语言**: 去除修饰词，保留核心信息
2. **合并规则**: 将相似规则合并表达
3. **分级处理**: 重要规则放 Always，细节放 Auto
4. **定期清理**: 删除过时和无效规则

---

## 📌 实施建议

### 新项目配置

1. 先配置 Always 规则（核心标准）
2. 根据技术栈添加 Auto 规则
3. 预留 20% 配额用于项目特定规则

### 现有项目迁移

1. 评估现有 .augment-guidelines 大小
2. 按重要性分类拆分规则
3. 逐步迁移到新的规则结构

---

⚡ **核心原则：在 Augment 限制内实现最大效果，精简高效，按需加载。**
